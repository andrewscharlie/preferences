git() { if [[ $1 == 'merge' ]]; then echo 'Use git5 merge, not git merge. git merge does not understand how to merge the READONLY link and it can corrupt your branch, so stay away from it.'; else command git "$@"; fi; }

function mkcl() {
    if [ "x$1" == "x" ]; then
      echo "usage: mkcl <client name>"
      return 1
    fi
    mkdir $1
    chmod 750 $1
    cd $1
    echo P4CLIENT=charliea-$1 >> .p4config
    g4 -e true client 
    g4 sync
    cd google3
}

source ~/bin/change-directory-until

export P4EDITOR="emacsclient -c"
export EDITOR="emacsclient -c"
export TEST_UNDECLARED_OUTPUTS_DIR="/usr/local/google/tmp"

# Start MySQL
/usr/local/google/mysql_data/startup.sh

# SQL aliases
alias sql.par=/google/data/ro/projects/production/mysql/python/sql.par
alias adsdb-connect-devel="sql.par mystubby:/bns/local/slave/production/mysql/home/xfp-devel-db/primary/shard0:root:e848xUSP:ads0"

# Commonly used shortcuts
alias ka='killall -9'

# Prodaccess aliases
alias pa='prodaccess'
alias pag='prodaccess -g'

# Git aliases
alias gcomm='git commit -a --message="`date +"%m-%d-%Y  %r"` Auto-commit";'
alias ge='git commit --all --message="`date +"%m-%d-%Y  %r"` Auto-commit for export to perforce"; git5 export --no-background-upload'
alias gm='git commit --all --message="`date +"%m-%d-%Y  %r"` Auto-commit for git5 mail "; git5 mail'
alias gs="git5 sync"
alias gl="git log --format=oneline"
alias gb="git branch"
alias gco="git checkout"
alias gc="git changes"
alias gca='git commit --all --message="`date +"%m-%d-%Y %r"` commit all"'
alias gp="git p"
alias g5d="git5 diff"
alias g5o="git5 diff --name-only"

# XFP aliases
alias xfpsdm="gfpdevel-hosted --jobs=CORE_FE,STUBBY_API,TRAFFICKING_SUPERDEVMODE"

export GOPATH=$HOME/go

export PATH=/usr/local/bin:/usr/local/sbin:$PATH:/usr/local/go/bin:$GOPATH/bin:~/bin

# git autocompletion
if [ -f ~/.git-completion.bash ]; then
  . ~/.git-completion.bash
fi

source /home/build/google3/java/com/google/ads/publisher/scripts/xfp/bashrc.sh